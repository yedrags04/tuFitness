/// <reference types="node" />
/// <reference types="node-fetch" />
import type { fetch } from "@libsql/isomorphic-fetch";
import type { SqlOwner, SqlState, ProtoSql } from "../sql.js";
import { Sql } from "../sql.js";
import { Stream } from "../stream.js";
import type { HttpClient } from "./client.js";
import type * as proto from "./proto.js";
export declare class HttpStream extends Stream implements SqlOwner {
    #private;
    /** @private */
    constructor(client: HttpClient, baseUrl: URL, jwt: string | null, customFetch: typeof fetch);
    /** @private*/
    _sqlOwner(): SqlOwner;
    /** Cache a SQL text on the server. */
    storeSql(sql: string): Sql;
    /** @private */
    _closeSql(sqlState: SqlState, error: Error): void;
    /** @private */
    _execute(stmt: proto.Stmt): Promise<proto.StmtResult>;
    /** @private */
    _batch(batch: proto.Batch): Promise<proto.BatchResult>;
    /** @private */
    _describe(protoSql: ProtoSql): Promise<proto.DescribeResult>;
    /** @private */
    _sequence(protoSql: ProtoSql): Promise<void>;
    /** Close the stream. */
    close(): void;
    /** @private */
    _closeFromClient(): void;
    /** True if the stream is closed. */
    get closed(): boolean;
}
